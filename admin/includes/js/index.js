(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,n=window.wp.apiFetch;var o=e.n(n);document.addEventListener("DOMContentLoaded",(e=>{document.querySelectorAll("#bogo-add-translation-actions button").forEach((e=>{const n=bogo.currentPost?.postId;if(!n)return;const a=e.parentElement?.querySelector(".spinner"),r=e.dataset.locale;e.addEventListener("click",(s=>{a?.classList.add("is-active"),o()({path:`/bogo/v1/posts/${n}/translations/${r}`,method:"POST"}).then((n=>{e.setAttribute("disabled","disabled");const o=n[r];((e,n)=>{const o=document.createElement("li"),a=document.createElement("a");a.setAttribute("href",n.edit_link),a.setAttribute("target","_blank"),a.insertAdjacentText("afterbegin",n.title.rendered);const r=document.createElement("span");r.classList.add("screen-reader-text"),r.insertAdjacentText("afterbegin",/* translators: accessibility text */ /* translators: accessibility text */
(0,t.__)("(opens in a new window)","bogo")),a.insertAdjacentElement("beforeend",r),o.appendChild(a),o.insertAdjacentText("beforeend",` [${(e=>{var t;return null!==(t=bogo.availableLanguages[e]?.name)&&void 0!==t?t:e})(e)}]`),document.querySelector("#bogo-translations")?.appendChild(o)})(r,o)})).finally((e=>{a?.classList.remove("is-active")}))}))}))}));const a=document.querySelector("#bogo-terms-translation");if(a){const e=e=>{const t=a.querySelectorAll("input.translation-text");Array.from(t).some((e=>e.defaultValue!==e.value))&&e.preventDefault()};window.addEventListener("beforeunload",e),a.addEventListener("submit",(t=>{window.removeEventListener("beforeunload",e)}))}})();